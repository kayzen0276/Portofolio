<!DOCTYPE html>
<html lang="id" class=""> <!-- Default class kosong untuk mode terang -->
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Portofolio profesional Zeni Ibnu Hakim, seorang UI/UX Designer dan Web Developer dengan latar belakang farmasi.">
    <title>Portofolio Zeni Ibnu Hakim, S. Farm</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <script>
        // Konfigurasi Tailwind CSS untuk mengaktifkan mode gelap berbasis class
        tailwind.config = {
            darkMode: 'class',
        }
    </script>
    <style>
        /* CSS Umum */
        :root {
            /* Variabel warna untuk elemen kustom */
            --chat-window-bg: white;
            --chat-input-bg: white;
            --chat-input-border: #d1d5db;
            --chat-message-ai-bg: #f3f4f6;
            --chat-message-user-bg: #f0e6ff;
            --chat-message-text: #333;
        }

        html.dark {
            /* Variabel warna untuk mode gelap */
            --chat-window-bg: #1f2937;
            --chat-input-bg: #374151;
            --chat-input-border: #4b5563;
            --chat-message-ai-bg: #374151;
            --chat-message-user-bg: #5b21b6;
            --chat-message-text: #f9fafb;
        }

        html {
            scroll-behavior: smooth;
        }
        body {
            font-family: 'Inter', sans-serif;
            transition: background-color 0.3s ease, color 0.3s ease;
        }
        .skill-card {
            transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
        }
        .skill-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.08);
        }
        .portfolio-item {
            position: relative;
            overflow: hidden;
            border-radius: 1.5rem;
        }
        .portfolio-item img {
            transition: transform 0.5s ease;
        }
        .portfolio-item:hover img {
            transform: scale(1.05);
        }
        .portfolio-item-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity 0.5s ease;
        }
        .portfolio-item:hover .portfolio-item-overlay {
            opacity: 1;
        }
        
        @keyframes neon-glow {
            from {
                box-shadow: 0 0 5px #8A2BE2, 0 0 10px #8A2BE2, 0 0 15px #9932CC, 0 0 20px #9932CC;
            }
            to {
                box-shadow: 0 0 10px #8A2BE2, 0 0 20px #8A2BE2, 0 0 30px #9932CC, 0 0 40px #9932CC;
            }
        }

        /* CSS untuk Kartu Gantung (Lanyard) */
        #interactive-lanyard-section {
            position: relative;
            user-select: none;
            -webkit-user-select: none;
            margin-top: -4rem; 
            height: calc(500px + 4rem); 
        }
        .lanyard-wrapper {
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
            width: 100%;
            height: 100%;
        }
        .lanyard {
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            transform-origin: top center;
            width: 8px; 
            background-color: #6b7280;
            height: 150px;
            z-index: 10;
            border-radius: 0 0 5px 5px;
        }
        .lanyard-card-container {
            position: absolute;
            top: 150px;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            z-index: 20;
        }
        .lanyard-card {
            width: 250px;
            height: 350px;
            background-color: #111827; 
            border-radius: 1rem;
            position: relative;
            cursor: grab;
            padding: 0;
            overflow: hidden;
            border: 2px solid #8A2BE2;
            box-shadow: 0 0 10px #8A2BE2, 0 0 20px #8A2BE2, 0 0 30px #9932CC, 0 0 40px #9932CC;
            animation: neon-glow 1.5s infinite alternate ease-in-out;
            transition: all 0.3s ease;
        }
        .lanyard-card:active {
            cursor: grabbing;
            box-shadow: 0 0 15px #8A2BE2, 0 0 30px #8A2BE2, 0 0 45px #9932CC, 0 0 60px #9932CC;
        }
        
        /* CSS untuk AI Agent Chat */
        #ai-chat-button {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            background-color: #8A2BE2;
            color: white;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
            z-index: 1000;
            transition: transform 0.3s ease, background-color 0.3s ease;
        }
        #ai-chat-button:hover {
            transform: scale(1.1);
            background-color: #7B24C6;
        }
        #ai-chat-window {
            background-color: var(--chat-window-bg);
            position: fixed;
            bottom: 7rem;
            right: 2rem;
            width: 90%;
            max-width: 380px;
            height: 500px;
            border-radius: 1.5rem;
            box-shadow: 0 8px 24px rgba(0,0,0,0.15);
            display: flex;
            flex-direction: column;
            overflow: hidden;
            z-index: 999;
            transform-origin: bottom right;
            transition: transform 0.3s ease-out, opacity 0.3s ease-out, background-color 0.3s ease;
        }
        .chat-header {
            background-color: #8A2BE2;
            color: white;
            padding: 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-radius: 1.5rem 1.5rem 0 0;
        }
        .chat-messages {
            flex-grow: 1;
            padding: 1rem;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }
        .chat-message {
            padding: 0.75rem 1rem;
            border-radius: 1.25rem;
            max-width: 80%;
            line-height: 1.5;
            word-wrap: break-word;
            color: var(--chat-message-text);
        }
        .ai-message ul {
            list-style-type: disc;
            padding-left: 20px;
            margin-top: 5px;
        }
        .user-message {
            background-color: var(--chat-message-user-bg);
            align-self: flex-end;
            border-bottom-right-radius: 0.25rem;
        }
        .ai-message {
            background-color: var(--chat-message-ai-bg);
            align-self: flex-start;
            border-bottom-left-radius: 0.25rem;
        }
        .ai-message a {
            color: #8A2BE2;
            text-decoration: underline;
        }
        html.dark .ai-message a {
            color: #A78BFA; /* Warna link lebih terang di mode gelap */
        }
        .ai-message a:hover {
            color: #7B24C6;
        }
        .chat-input-form {
            display: flex;
            padding: 1rem;
            border-top: 1px solid var(--chat-input-border);
        }
        .chat-input {
            flex-grow: 1;
            background-color: var(--chat-input-bg);
            color: var(--chat-message-text);
            border: 1px solid var(--chat-input-border);
            border-radius: 9999px;
            padding: 0.75rem 1rem;
            outline: none;
            transition: border-color 0.2s;
        }
        .chat-input:focus {
            border-color: #8A2BE2;
        }
        .send-button {
            margin-left: 0.5rem;
            background-color: #8A2BE2;
            color: white;
            border: none;
            border-radius: 50%;
            width: 48px;
            height: 48px;
            cursor: pointer;
            transition: background-color 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .send-button:hover {
            background-color: #7B24C6;
        }

        /* Style untuk Tab Portofolio */
        .portfolio-tab {
            color: #4b5563; /* gray-600 */
        }
        html.dark .portfolio-tab {
            color: #d1d5db; /* gray-300 */
        }
        .active-tab {
            background-color: white !important;
            color: #8A2BE2 !important; /* purple-600 */
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
        }
        html.dark .active-tab {
            background-color: #4b5563 !important; /* gray-600 */
            color: #c4b5fd !important; /* purple-300 */
        }
        
        /* --- BARU: CSS untuk Emoticon Bergerak --- */
        #emote-container {
            overflow: hidden;
        }
        .floating-emote {
            position: absolute;
            bottom: 0;
            font-size: 2.5rem; /* 40px */
            animation: floatUp 5s ease-in-out forwards;
            opacity: 0;
            user-select: none;
            -webkit-user-select: none;
        }
        @keyframes floatUp {
            0% {
                transform: translateY(0) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(-100vh) rotate(360deg);
                opacity: 0;
            }
        }

        /* --- BARU: CSS Animasi Selamat Datang --- */
        @keyframes fade-in-up {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .animate-fade-in-up {
            opacity: 0; /* Mulai dari tidak terlihat */
            animation: fade-in-up 0.8s ease-out forwards;
        }
        
        /* Sembunyikan konten utama pada awalnya */
        #main-wrapper {
            visibility: hidden;
            opacity: 0;
            transition: visibility 0s 0.5s, opacity 0.5s ease-in-out;
        }
        
        #main-wrapper.loaded {
            visibility: visible;
            opacity: 1;
            transition: opacity 0.5s ease-in-out;
        }
    </style>
</head>
<body class="bg-gray-50 dark:bg-gray-900 text-gray-800 dark:text-gray-200">

    <!-- BARU: Animasi Selamat Datang -->
    <div id="welcome-animation" class="fixed inset-0 bg-gray-50 dark:bg-gray-900 flex flex-col justify-center items-center z-[9999] transition-opacity duration-700 ease-in-out">
        <div class="text-center">
            <h1 class="text-3xl md:text-5xl font-bold text-purple-600 dark:text-purple-400 animate-fade-in-up" style="animation-delay: 0.2s;">Selamat Datang</h1>
            <p class="text-lg md:text-xl text-gray-600 dark:text-gray-300 mt-2 animate-fade-in-up" style="animation-delay: 0.6s;">di Portofolio Zeni Ibnu Hakim</p>
        </div>
    </div>

    <!-- BARU: Wrapper untuk Konten Utama -->
    <div id="main-wrapper">
        <!-- BARU: Container untuk Emoticon -->
        <div id="emote-container" class="fixed top-0 left-0 w-full h-full pointer-events-none z-0"></div>

        <!-- Header / Navbar -->
        <header class="py-4 px-8 md:px-20 lg:px-40 flex justify-between items-center fixed top-0 left-0 w-full z-30 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm shadow-sm dark:border-b dark:border-gray-700">
            <a href="#" class="font-bold text-xl text-purple-600 dark:text-purple-400">Portofolio</a>
            <nav class="hidden md:flex space-x-8 items-center">
                <a href="#" class="text-gray-600 dark:text-gray-300 hover:text-purple-600 dark:hover:text-purple-400 transition-colors">Home</a>
                <a href="#about" class="text-gray-600 dark:text-gray-300 hover:text-purple-600 dark:hover:text-purple-400 transition-colors">About Me</a>
                <a href="#education" class="text-gray-600 dark:text-gray-300 hover:text-purple-600 dark:hover:text-purple-400 transition-colors">Education</a>
                <a href="#experience" class="text-gray-600 dark:text-gray-300 hover:text-purple-600 dark:hover:text-purple-400 transition-colors">Experience</a>
                <a href="#skills" class="text-gray-600 dark:text-gray-300 hover:text-purple-600 dark:hover:text-purple-400 transition-colors">Skills</a>
                <a href="#portfolio" class="text-gray-600 dark:text-gray-300 hover:text-purple-600 dark:hover:text-purple-400 transition-colors">Portofolio</a>
            </nav>
            <div class="flex items-center gap-4">
                 <a href="#contact" class="hidden md:block bg-purple-600 text-white px-6 py-2 rounded-full font-semibold hover:bg-purple-700 transition-colors">Contact</a>
                <div class="md:hidden">
                    <button id="mobile-menu-button">
                        <i class="fas fa-bars text-2xl text-purple-600 dark:text-purple-400"></i>
                    </button>
                </div>
            </div>
        </header>

        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden fixed top-0 left-0 h-full w-full bg-white dark:bg-gray-900 z-40 overflow-y-auto transform transition-transform duration-300 ease-in-out">
            <div class="p-8 text-right">
                <button id="close-menu-button">
                    <i class="fas fa-times text-2xl text-purple-600 dark:text-purple-400"></i>
                </button>
            </div>
            <nav class="flex flex-col items-center space-y-6 text-xl mt-10">
                <a href="#" class="text-gray-600 dark:text-gray-300 hover:text-purple-600 dark:hover:text-purple-400">Home</a>
                <a href="#about" class="text-gray-600 dark:text-gray-300 hover:text-purple-600 dark:hover:text-purple-400">About Me</a>
                <a href="#education" class="text-gray-600 dark:text-gray-300 hover:text-purple-600 dark:hover:text-purple-400">Education</a>
                <a href="#experience" class="text-gray-600 dark:text-gray-300 hover:text-purple-600 dark:hover:text-purple-400">Experience</a>
                <a href="#skills" class="text-gray-600 dark:text-gray-300 hover:text-purple-600 dark:hover:text-purple-400">Skills</a>
                <a href="#portfolio" class="text-gray-600 dark:text-gray-300 hover:text-purple-600 dark:hover:text-purple-400">Portofolio</a>
                <a href="#contact" id="mobile-contact-button" class="bg-purple-600 text-white px-8 py-3 rounded-full font-semibold hover:bg-purple-700 mt-6">Contact</a>
            </nav>
        </div>

        <main>
            <!-- Hero Section -->
            <section class="bg-gradient-to-br from-purple-200 to-pink-200 dark:from-purple-900/50 dark:to-pink-900/50 py-16 md:py-24 lg:py-40 flex flex-col-reverse md:flex-row items-center gap-10 md:gap-20 mt-16 px-6 md:px-20 lg:px-40">
                <div class="flex-1 text-center md:text-left">
                    <h2 class="text-xl md:text-2xl font-medium mb-2">Halo, 👋 saya</h2>
                    <h1 class="text-2xl md:text-2xl lg:text-4xl font-bold mb-4">Zeni Ibnu Hakim, S. Farm</h1>
                    <p class="text-gray-600 dark:text-gray-400 mb-6 max-w-lg mx-auto md:mx-0">
                        Seorang profesional kreatif dengan latar belakang farmasi yang beralih ke dunia desain UI/UX dan pengembangan web. Saya bersemangat dalam menciptakan solusi digital yang fungsional dan ramah pengguna.
                    </p>
                    <div class="flex items-center gap-4 flex-wrap justify-center md:justify-start mx-auto md:mx-0">
                        <a href="#" class="bg-purple-600 text-white px-6 py-2 rounded-full font-semibold text-sm md:text-base hover:bg-purple-700 transition-colors flex items-center gap-2">
                            Unduh CV <i class="fas fa-download ml-2"></i>
                        </a>
                        <a href="#contact" class="bg-purple-100 text-purple-600 dark:bg-gray-700 dark:text-gray-300 px-6 py-2 rounded-full font-semibold text-sm md:text-base hover:bg-purple-200 dark:hover:bg-gray-600 transition-colors flex items-center gap-2">
                            Hubungi Saya
                        </a>
                    </div>
                    <div class="flex justify-center md:justify-start items-center space-x-4 mt-6">
                        <a href="#" class="text-gray-500 hover:text-purple-600 dark:hover:text-purple-400 transition-colors"><i class="fab fa-facebook-f text-lg"></i></a>
                        <a href="#" class="text-gray-500 hover:text-purple-600 dark:hover:text-purple-400 transition-colors"><i class="fab fa-instagram text-lg"></i></a>
                        <a href="#" class="text-gray-500 hover:text-purple-600 dark:hover:text-purple-400 transition-colors"><i class="fab fa-linkedin-in text-lg"></i></a>
                        <a href="#" class="text-gray-500 hover:text-purple-600 dark:hover:text-purple-400 transition-colors"><i class="fab fa-behance text-lg"></i></a>
                    </div>
                </div>
                <div class="flex-1 flex justify-center md:justify-end relative">
                    <div class="w-64 h-64 md:w-80 md:h-80 lg:w-96 lg:h-96 rounded-3xl overflow-hidden bg-gradient-to-br from-purple-400 to-purple-800 p-2">
                        <img src="foto-profil.png" alt="Zeni Ibnu Hakim, S. Farm" class="w-full h-full object-cover rounded-2xl">
                    </div>
                </div>
            </section>

            <!-- About Me Section -->
            <section id="about" class="py-16 bg-gray-50 dark:bg-gray-900">
                <div class="container mx-auto px-6 md:px-0 lg:px-40">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-10 items-start">
                        <div id="interactive-lanyard-section">
                            <div class="lanyard-wrapper">
                                <div id="lanyard" class="lanyard"></div>
                                <div id="lanyard-card-container" class="lanyard-card-container">
                                    <div id="lanyard-card" class="lanyard-card">
                                        <img src="foto-profil.png" alt="Foto Zeni" class="w-full h-full object-cover">
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="text-left">
                            <h2 class="text-3xl md:text-4xl lg:text-5xl font-bold mb-2">
                                <span class="text-purple-600 dark:text-purple-400">Tentang</span> Saya
                            </h2>
                            <p class="text-gray-600 dark:text-gray-400 mb-10">
                                Di sini, Anda akan menemukan informasi lebih lanjut tentang siapa saya, apa yang saya lakukan, dan keahlian saya.
                            </p>
                            <h3 class="text-2xl font-bold text-gray-800 dark:text-gray-100 mb-4">UI/UX Designer & Web Developer</h3>
                            <p class="text-gray-600 dark:text-gray-400 mb-4">
                                Berawal dari dunia farmasi, saya menemukan hasrat sejati saya dalam seni memecahkan masalah melalui desain dan teknologi. Latar belakang saya yang teliti dan berorientasi pada detail dari farmasi memberikan perspektif unik dalam merancang pengalaman pengguna yang intuitif dan efektif.
                            </p>
                            <p class="text-gray-600 dark:text-gray-400 mb-6">
                                Saya percaya bahwa desain yang baik dapat menjembatani kesenjangan antara teknologi yang kompleks dan kebutuhan manusia yang sederhana. Saya selalu bersemangat untuk belajar hal baru dan berkolaborasi dalam proyek-proyek yang menantang.
                            </p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Education Section -->
            <section id="education" class="py-16 bg-gradient-to-br from-blue-100 to-purple-100 dark:from-blue-900/50 dark:to-purple-900/50">
                <div class="container mx-auto px-6 md:px-20 lg:px-40 flex flex-col items-center text-center">
                    <h2 class="text-3xl md:text-4xl lg:text-5xl font-bold mb-2">
                        <span class="text-purple-600 dark:text-purple-400">Pendidikan</span> Saya
                    </h2>
                    <p class="text-gray-600 dark:text-gray-400 mb-10 max-w-xl">
                        Ini adalah riwayat pendidikan formal dan non-formal yang telah saya tempuh.
                    </p>
                </div>
                <div class="container mx-auto px-6 md:px-20 lg:px-40 grid grid-cols-1 md:grid-cols-2 gap-8 md:gap-10">
                    <div class="bg-white dark:bg-gray-800 p-6 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700">
                        <p class="text-purple-500 dark:text-purple-400 font-semibold mb-2">2017 - 2021</p>
                        <h3 class="text-xl md:text-2xl font-bold mb-1">Sarjana Farmasi</h3>
                        <h4 class="text-gray-600 dark:text-gray-300 font-medium mb-4">Universitas Gadjah Mada</h4>
                        <p class="text-gray-500 dark:text-gray-400 mb-4">
                            Mempelajari ilmu farmasi klinis dan komunitas, manajemen apotek, serta teknologi farmasi.
                        </p>
                        <a href="#" class="text-purple-600 dark:text-purple-400 font-semibold flex items-center">
                            Baca Selengkapnya <i class="fas fa-arrow-right ml-2 text-sm"></i>
                        </a>
                    </div>
                    <div class="bg-white dark:bg-gray-800 p-6 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700">
                        <p class="text-purple-500 dark:text-purple-400 font-semibold mb-2">2022</p>
                        <h3 class="text-xl md:text-2xl font-bold mb-1">UI/UX Design Bootcamp</h3>
                        <h4 class="text-gray-600 dark:text-gray-300 font-medium mb-4">Digital Skill Center</h4>
                        <p class="text-gray-500 dark:text-gray-400 mb-4">
                            Program intensif yang mencakup riset pengguna, wireframing, prototyping, dan desain antarmuka.
                        </p>
                        <a href="#" class="text-purple-600 dark:text-purple-400 font-semibold flex items-center">
                            Baca Selengkapnya <i class="fas fa-arrow-right ml-2 text-sm"></i>
                        </a>
                    </div>
                </div>
            </section>

            <!-- Experience Section -->
            <section id="experience" class="py-16 bg-gray-50 dark:bg-gray-900">
                <div class="container mx-auto px-6 md:px-20 lg:px-40 flex flex-col items-center text-center">
                    <h2 class="text-3xl md:text-4xl lg:text-5xl font-bold mb-2">
                        <span class="text-purple-600 dark:text-purple-400">Pengalaman</span> Saya
                    </h2>
                    <p class="text-gray-600 dark:text-gray-400 mb-10 max-w-xl">
                        Berikut adalah pengalaman kerja saya di industri teknologi dan desain.
                    </p>
                </div>
                <div class="container mx-auto px-6 md:px-20 lg:px-40 grid grid-cols-1 md:grid-cols-2 gap-8 md:gap-10">
                    <div class="bg-white dark:bg-gray-800 p-6 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700">
                        <p class="text-purple-500 dark:text-purple-400 font-semibold mb-2">2022 - 2023</p>
                        <h3 class="text-xl md:text-2xl font-bold mb-1">UI/UX Designer</h3>
                        <h4 class="text-gray-600 dark:text-gray-300 font-medium mb-4">HealthTech Startup</h4>
                        <p class="text-gray-500 dark:text-gray-400 mb-4">
                            Merancang alur pengguna dan antarmuka untuk aplikasi konsultasi kesehatan, berhasil meningkatkan keterlibatan pengguna sebesar 20%.
                        </p>
                        <a href="#" class="text-purple-600 dark:text-purple-400 font-semibold flex items-center">
                            Baca Selengkapnya <i class="fas fa-arrow-right ml-2 text-sm"></i>
                        </a>
                    </div>
                    <div class="bg-white dark:bg-gray-800 p-6 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700">
                        <p class="text-purple-500 dark:text-purple-400 font-semibold mb-2">2023 - Sekarang</p>
                        <h3 class="text-xl md:text-2xl font-bold mb-1">Frontend Developer</h3>
                        <h4 class="text-gray-600 dark:text-gray-300 font-medium mb-4">Digital Agency Kreatif</h4>
                        <p class="text-gray-500 dark:text-gray-400 mb-4">
                            Mengembangkan dan memelihara website klien menggunakan HTML, CSS, JavaScript, dan React. Berkolaborasi erat dengan tim desain.
                        </p>
                        <a href="#" class="text-purple-600 dark:text-purple-400 font-semibold flex items-center">
                            Baca Selengkapnya <i class="fas fa-arrow-right ml-2 text-sm"></i>
                        </a>
                    </div>
                </div>
            </section>

            <!-- Skills Section -->
            <section id="skills" class="py-16 bg-gradient-to-br from-pink-100 to-blue-100 dark:from-pink-900/50 dark:to-blue-900/50">
                <div class="container mx-auto px-6 md:px-20 lg:px-40 flex flex-col text-center">
                    <h2 class="text-3xl md:text-4xl lg:text-5xl font-bold mb-2">
                        <span class="text-purple-600 dark:text-purple-400">Keahlian</span> Saya
                    </h2>
                    <p class="text-gray-600 dark:text-gray-400 mb-10 max-w-md mx-auto">
                        Berikut adalah beberapa keahlian utama yang saya miliki.
                    </p>
                    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
                        <div class="skill-card bg-white dark:bg-gray-800 p-8 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700 flex flex-col items-center text-center">
                            <div class="w-16 h-16 rounded-full bg-purple-100 dark:bg-purple-900/50 text-purple-600 dark:text-purple-400 flex items-center justify-center text-3xl mb-4">
                                <i class="fas fa-laptop-code"></i>
                            </div>
                            <h3 class="text-xl font-bold mb-2">Web Development</h3>
                            <p class="text-gray-500 dark:text-gray-400">
                                Pengembangan website yang responsif dan fungsional.
                            </p>
                        </div>
                        <div class="skill-card bg-white dark:bg-gray-800 p-8 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700 flex flex-col items-center text-center">
                            <div class="w-16 h-16 rounded-full bg-purple-100 dark:bg-purple-900/50 text-purple-600 dark:text-purple-400 flex items-center justify-center text-3xl mb-4">
                                <i class="fas fa-pencil-ruler"></i>
                            </div>
                            <h3 class="text-xl font-bold mb-2">UI/UX Design</h3>
                            <p class="text-gray-500 dark:text-gray-400">
                                Merancang antarmuka yang intuitif dan pengalaman pengguna yang lancar.
                            </p>
                        </div>
                        <div class="skill-card bg-white dark:bg-gray-800 p-8 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700 flex flex-col items-center text-center">
                            <div class="w-16 h-16 rounded-full bg-purple-100 dark:bg-purple-900/50 text-purple-600 dark:text-purple-400 flex items-center justify-center text-3xl mb-4">
                                <i class="fas fa-mobile-alt"></i>
                            </div>
                            <h3 class="text-xl font-bold mb-2">Mobile Development</h3>
                            <p class="text-gray-500 dark:text-gray-400">
                                Pengembangan aplikasi mobile native dan hybrid.
                            </p>
                        </div>
                        <div class="skill-card bg-white dark:bg-gray-800 p-8 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700 flex flex-col items-center text-center">
                            <div class="w-16 h-16 rounded-full bg-purple-100 dark:bg-purple-900/50 text-purple-600 dark:text-purple-400 flex items-center justify-center text-3xl mb-4">
                                <i class="fas fa-chart-line"></i>
                            </div>
                            <h3 class="text-xl font-bold mb-2">Data Analytics</h3>
                            <p class="text-gray-500 dark:text-gray-400">
                                Analisis data untuk membuat keputusan yang didasarkan pada data.
                            </p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Portfolio Section -->
            <section id="portfolio" class="py-16 bg-gray-50 dark:bg-gray-900">
                <div class="container mx-auto px-6 md:px-20 lg:px-40 flex flex-col text-center">
                    <h2 class="text-3xl md:text-4xl lg:text-5xl font-bold mb-2">
                        <span class="text-purple-600 dark:text-purple-400">Portofolio</span> Saya
                    </h2>
                    <p class="text-gray-600 dark:text-gray-400 mb-10 max-w-md mx-auto">
                        Lihat beberapa proyek dan sertifikat saya di bawah ini.
                    </p>

                    <!-- Portfolio Tabs -->
                    <div class="flex justify-center mb-10">
                        <div class="flex space-x-2 rounded-full p-1 bg-gray-200 dark:bg-gray-700">
                            <button id="portfolio-btn" class="portfolio-tab active-tab px-6 py-2 rounded-full text-sm font-semibold transition-colors duration-300">My Portofolio</button>
                            <button id="certificate-btn" class="portfolio-tab px-6 py-2 rounded-full text-sm font-semibold transition-colors duration-300">Certificate</button>
                        </div>
                    </div>
                    
                    <!-- Portfolio Content -->
                    <div id="portfolio-content">
                        <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6">
                            <a href="#" class="portfolio-item group"><img src="images/proyek-apotek.jpg" alt="Project 1" class="w-full h-auto rounded-3xl"><div class="portfolio-item-overlay"><h3 class="text-white text-lg font-bold">Aplikasi Mobile Apotek</h3></div></a>
                            <a href="#" class="portfolio-item group"><img src="images/proyek-edukasi.jpg" alt="Project 2" class="w-full h-auto rounded-3xl"><div class="portfolio-item-overlay"><h3 class="text-white text-lg font-bold">Website Edukasi Obat</h3></div></a>
                            <a href="#" class="portfolio-item group"><img src="images/proyek-manajemen.jpg" alt="Project 3" class="w-full h-auto rounded-3xl"><div class="portfolio-item-overlay"><h3 class="text-white text-lg font-bold">Sistem Manajemen Pasien</h3></div></a>
                            <a href="#" class="portfolio-item group"><img src="images/proyek-telemedicine.jpg" alt="Project 4" class="w-full h-auto rounded-3xl"><div class="portfolio-item-overlay"><h3 class="text-white text-lg font-bold">Platform Telemedicine</h3></div></a>
                            <a href="#" class="portfolio-item group"><img src="images/proyek-web-rs.jpg" alt="Project 5" class="w-full h-auto rounded-3xl"><div class="portfolio-item-overlay"><h3 class="text-white text-lg font-bold">Desain Ulang Web RS</h3></div></a>
                            <a href="#" class="portfolio-item group"><img src="images/proyek-vitamin.jpg" alt="Project 6" class="w-full h-auto rounded-3xl"><div class="portfolio-item-overlay"><h3 class="text-white text-lg font-bold">Landing Page Produk Vitamin</h3></div></a>
                        </div>
                    </div>
                    
                    <!-- Certificate Content (Initially hidden) -->
                    <div id="certificate-content" class="hidden">
                        <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6">
                            <!-- Anda bisa menambahkan item sertifikat di sini -->
                            <a href="#" class="portfolio-item group">
                                <img src="https://placehold.co/600x400/e2e8f0/4a5568?text=Sertifikat+UI/UX" alt="Sertifikat UI/UX" class="w-full h-auto rounded-3xl">
                                <div class="portfolio-item-overlay">
                                    <h3 class="text-white text-lg font-bold">Sertifikat UI/UX Design</h3>
                                </div>
                            </a>
                            <a href="#" class="portfolio-item group">
                                <img src="https://placehold.co/600x400/e2e8f0/4a5568?text=Sertifikat+Web+Dev" alt="Sertifikat Web Dev" class="w-full h-auto rounded-3xl">
                                <div class="portfolio-item-overlay">
                                    <h3 class="text-white text-lg font-bold">Sertifikat Web Development</h3>
                                </div>
                            </a>
                        </div>
                    </div>
                </div>
            </section>


            <!-- Contact Section -->
            <section id="contact" class="py-16 bg-gradient-to-br from-purple-100 to-pink-100 dark:from-purple-900/50 dark:to-pink-900/50">
                <div class="container mx-auto px-6 md:px-20 lg:px-40 flex flex-col text-center">
                    <h2 class="text-3xl md:text-4xl lg:text-5xl font-bold mb-2">
                        <span class="text-purple-600 dark:text-purple-400">Hubungi</span> Saya
                    </h2>
                    <p class="text-gray-600 dark:text-gray-400 mb-10 max-w-md mx-auto">
                        Silakan isi formulir di bawah ini untuk terhubung dengan saya.
                    </p>
                    <div class="max-w-xl mx-auto w-full bg-white dark:bg-gray-800 p-8 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700">
                        <form action="#" method="POST" class="space-y-6">
                            <div><input type="text" placeholder="Nama Anda" class="w-full p-4 rounded-xl border border-gray-300 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white focus:outline-none focus:ring-2 focus:ring-purple-500 transition-colors" required></div>
                            <div><input type="email" placeholder="Email Anda" class="w-full p-4 rounded-xl border border-gray-300 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white focus:outline-none focus:ring-2 focus:ring-purple-500 transition-colors" required></div>
                            <div><textarea rows="5" placeholder="Pesan Anda" class="w-full p-4 rounded-xl border border-gray-300 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white focus:outline-none focus:ring-2 focus:ring-purple-500 transition-colors" required></textarea></div>
                            <button type="submit" class="w-full bg-purple-600 text-white px-8 py-4 rounded-full font-semibold hover:bg-purple-700 transition-colors">Kirim Pesan</button>
                        </form>
                    </div>
                </div>
            </section>
        </main>

        <!-- Footer Section -->
        <footer class="bg-gray-50 dark:bg-gray-900 py-10 text-center">
            <p class="text-gray-500 dark:text-gray-400">&copy; 2025 Portofolio Zeni Ibnu Hakim. Hak Cipta Dilindungi.</p>
        </footer>

        <!-- Music Player -->
        <audio id="music-player" class="hidden"></audio>

        <!-- AI Agent Chat -->
        <div id="ai-chat-button">
            <i class="fas fa-robot"></i>
        </div>

        <div id="ai-chat-window" class="hidden" style="transform: scale(0); opacity: 0;">
            <div class="chat-header">
                <!-- DIUBAH: Nama AI Agent -->
                <h3 class="font-bold text-lg">ZeniBot</h3>
                <button id="close-chat-button" class="text-xl">&times;</button>
            </div>
            <div id="chat-messages" class="chat-messages">
                <!-- DIUBAH: Pesan sapaan lebih asik -->
                <div class="chat-message ai-message">
                    Halo! Aku ZeniBot, asisten AI Zeni yang siap bantu kamu. Penasaran soal Zeni? Tanya aja! kamu bisa memintaku untuk mengubah tema ke mode gelap atau terang. Oh ya, aku juga bisa puterin lagu lho. Ketik "daftar lagu" buat lihat playlist-ku. 🎶
                </div>
            </div>
            <form id="chat-input-form" class="chat-input-form">
                <input type="text" id="chat-input" class="chat-input" placeholder="Ketik pertanyaanmu..." autocomplete="off">
                <button type="submit" class="send-button">
                    <i class="fas fa-paper-plane"></i>
                </button>
            </form>
        </div>

        <script>
            // --- BARU: Logic Animasi Selamat Datang ---
            window.addEventListener('load', function() {
                const welcomeScreen = document.getElementById('welcome-animation');
                const mainWrapper = document.getElementById('main-wrapper');

                // Total durasi animasi selamat datang (misal 2.5 detik)
                setTimeout(() => {
                    if (welcomeScreen) {
                        // 1. Mulai fade out layar selamat datang
                        welcomeScreen.style.opacity = '0';
                        
                        // 2. Tampilkan konten utama
                        if(mainWrapper) {
                            mainWrapper.classList.add('loaded');
                        }

                        // 3. Hapus layar selamat datang dari DOM setelah transisi selesai
                        welcomeScreen.addEventListener('transitionend', () => {
                            welcomeScreen.remove();
                        });
                    }
                }, 2500); // Tunggu 2.5 detik
            });

            // --- Logic for Mobile Menu ---
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            const closeMenuButton = document.getElementById('close-menu-button');
            const mobileLinks = document.querySelectorAll('#mobile-menu nav a');
            
            function closeMobileMenu() {
                mobileMenu.classList.add('hidden');
                document.body.style.overflow = 'auto';
            }

            mobileMenuButton.addEventListener('click', () => {
                mobileMenu.classList.remove('hidden');
                document.body.style.overflow = 'hidden';
            });

            closeMenuButton.addEventListener('click', closeMobileMenu);
            
            mobileLinks.forEach(link => {
                link.addEventListener('click', closeMobileMenu);
            });

            // --- Logic for Theme (Light/Dark Mode) ---
            function setTheme(theme) {
                if (theme === 'dark') {
                    document.documentElement.classList.add('dark');
                    localStorage.setItem('theme', 'dark');
                } else {
                    document.documentElement.classList.remove('dark');
                    localStorage.setItem('theme', 'light');
                }
            }

            // Set initial theme on page load
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme) {
                setTheme(savedTheme);
            } else {
                setTheme('light'); // Default to light mode as requested
            }
            
            // --- Logic for Lanyard Card ---
            const lanyardCardContainer = document.getElementById('lanyard-card-container');
            const lanyardEl = document.getElementById('lanyard');
            
            if (lanyardCardContainer && lanyardEl) {
                let isLanyardDragging = false, startX, startY, cardX = 0, cardY = 0;
                const maxPullDistance = 350;
                let velocityX = 0, velocityY = 0;
                const springConstant = 0.04;
                const damping = 0.96;
                const initialLanyardHeight = 150;
                let lanyardAnimationFrameId;

                function animateLanyard() {
                    if (isLanyardDragging) return;
                    const forceX = -cardX * springConstant;
                    const forceY = -cardY * springConstant;
                    velocityX += forceX; velocityY += forceY;
                    velocityX *= damping; velocityY *= damping;
                    cardX += velocityX; cardY += velocityY;
                    updateLanyardPosition();
                    if (Math.abs(cardX) < 0.1 && Math.abs(cardY) < 0.1 && Math.abs(velocityX) < 0.1 && Math.abs(velocityY) < 0.1) {
                        cardX = 0; cardY = 0; velocityX = 0; velocityY = 0;
                        updateLanyardPosition();
                        cancelAnimationFrame(lanyardAnimationFrameId);
                    } else {
                        lanyardAnimationFrameId = requestAnimationFrame(animateLanyard);
                    }
                }
                
                function updateLanyardPosition() {
                    lanyardCardContainer.style.transform = `translate(${cardX}px, ${cardY}px)`;
                    const length = Math.sqrt(cardX * cardX + (initialLanyardHeight + cardY) * (initialLanyardHeight + cardY));
                    const rotationDeg = -Math.atan2(cardX, initialLanyardHeight + cardY) * 180 / Math.PI;
                    lanyardEl.style.transform = `translateX(-50%) rotate(${rotationDeg}deg)`;
                    lanyardEl.style.height = `${length}px`;
                }

                function startLanyardDrag(e) {
                    isLanyardDragging = true;
                    cancelAnimationFrame(lanyardAnimationFrameId);
                    const clientX = e.clientX || e.touches[0].clientX;
                    const clientY = e.clientY || e.touches[0].clientY;
                    startX = clientX - cardX;
                    startY = clientY - cardY;
                    velocityX = 0; velocityY = 0;
                }

                function lanyardDrag(e) {
                    if (!isLanyardDragging) return;
                    e.preventDefault();
                    const currentX = e.clientX || e.touches[0].clientX;
                    const currentY = e.clientY || e.touches[0].clientY;
                    let newCardX = currentX - startX;
                    let newCardY = currentY - startY;
                    const distance = Math.sqrt(newCardX * newCardX + newCardY * newCardY);
                    if (distance > maxPullDistance) {
                        const angle = Math.atan2(newCardY, newCardX);
                        cardX = Math.cos(angle) * maxPullDistance;
                        cardY = Math.sin(angle) * maxPullDistance;
                    } else {
                        cardX = newCardX; cardY = newCardY;
                    }
                    updateLanyardPosition();
                }

                function endLanyardDrag() {
                    if (isLanyardDragging) {
                        isLanyardDragging = false;
                        lanyardAnimationFrameId = requestAnimationFrame(animateLanyard);
                    }
                }

                lanyardCardContainer.addEventListener('mousedown', startLanyardDrag);
                lanyardCardContainer.addEventListener('touchstart', startLanyardDrag, { passive: false });
                window.addEventListener('mouseup', endLanyardDrag);
                window.addEventListener('touchend', endLanyardDrag);
                window.addEventListener('mousemove', lanyardDrag);
                window.addEventListener('touchmove', lanyardDrag, { passive: false });
            }

            // --- Logic for Portfolio Tabs ---
            const portfolioBtn = document.getElementById('portfolio-btn');
            const certificateBtn = document.getElementById('certificate-btn');
            const portfolioContent = document.getElementById('portfolio-content');
            const certificateContent = document.getElementById('certificate-content');
            const tabs = document.querySelectorAll('.portfolio-tab');

            if(portfolioBtn && certificateBtn && portfolioContent && certificateContent) {
                portfolioBtn.addEventListener('click', () => {
                    portfolioContent.classList.remove('hidden');
                    certificateContent.classList.add('hidden');
                    tabs.forEach(tab => tab.classList.remove('active-tab'));
                    portfolioBtn.classList.add('active-tab');
                });

                certificateBtn.addEventListener('click', () => {
                    portfolioContent.classList.add('hidden');
                    certificateContent.classList.remove('hidden');
                    tabs.forEach(tab => tab.classList.remove('active-tab'));
                    certificateBtn.classList.add('active-tab');
                });
            }

            // --- Logic for AI Agent Chat ---
            const aiChatButton = document.getElementById('ai-chat-button');
            const aiChatWindow = document.getElementById('ai-chat-window');
            const closeChatButton = document.getElementById('close-chat-button');
            const chatInputForm = document.getElementById('chat-input-form');
            const chatInput = document.getElementById('chat-input');
            const chatMessages = document.getElementById('chat-messages');
            const musicPlayer = document.getElementById('music-player');
            const emoteContainer = document.getElementById('emote-container'); // BARU

            let chatHistory = [];
            
            const songLibrary = {
                'dj': 'DJ_LILY_PIW_PIW_VIRAL_DITIKTOK___FT_MUSLIH_FVNKY___SLOW_REVERB(48k).mp3',
                'mangu': 'MANGU_-_FOURTWNTY__Feat__CHARITA_UTAMI__LIVE_COVER_INDAH_YASTAMI_(256k).mp3',
                'biar sampai ke bintang': 'Asmidar_-_Biar_Sampai_Ke_Bintang__speed_up_(256k).mp3',
                'bila memang kamu': 'BETRAND_PUTRA_ONSU_-_BILA_MEMANG_KAMU__OFFICIAL_MUSIC_VIDEO_(128k).mp3',
                'bila memang kamu': 'Rossa_-_Khanti_OST._Bidadari_Bermata_Bening__Official_Lyric_Video_(256k).mp3',
                'naruto': 'NARUTO_-_OST._Medley_メドレー_Cover__RZD_ft._Aigoo__SING-OFF_Lagu_Naruto(256k).mp3',
                'janam janam': 'Lirik_lagu___Terjemahan___Janam_Janam_-_Arijit_Singh,_Antara_Mitra___Ost._Dilwale__2015_(256k).mp3'
            };

            // --- BARU: Logic untuk Emoticon ---
            const happyEmotes = ['😊', '😍', '🎉', '✨', '👍', '💖', '🥳', '🤩'];

            function showHappyEmote() {
                const emote = document.createElement('div');
                emote.classList.add('floating-emote');
                emote.textContent = happyEmotes[Math.floor(Math.random() * happyEmotes.length)];
                emote.style.left = `${Math.random() * 95}vw`;
                emote.style.animationDuration = `${Math.random() * 2 + 3}s`; // durasi 3-5 detik
                emote.style.animationDelay = `${Math.random() * 0.5}s`;
                emoteContainer.appendChild(emote);
                emote.addEventListener('animationend', () => {
                    emote.remove();
                });
            }

            function triggerHappyAnimation() {
                const emoteCount = Math.floor(Math.random() * 6) + 5; // 5-10 emotes
                for (let i = 0; i < emoteCount; i++) {
                    setTimeout(showHappyEmote, i * 100); // Munculkan satu per satu
                }
            }
            // --- Akhir Logic Emoticon ---


            function toggleChatWindow() {
                const isHidden = aiChatWindow.classList.contains('hidden');
                if (isHidden) {
                    aiChatWindow.classList.remove('hidden');
                    setTimeout(() => {
                        aiChatWindow.style.transform = 'scale(1)';
                        aiChatWindow.style.opacity = '1';
                    }, 10);
                } else {
                    aiChatWindow.style.transform = 'scale(0)';
                    aiChatWindow.style.opacity = '0';
                    setTimeout(() => {
                        aiChatWindow.classList.add('hidden');
                    }, 300);
                }
            }

            aiChatButton.addEventListener('click', toggleChatWindow);
            closeChatButton.addEventListener('click', toggleChatWindow);

            function addMessageToChat(message, sender) {
                const messageElement = document.createElement('div');
                messageElement.classList.add('chat-message', sender === 'user' ? 'user-message' : 'ai-message');
                if (sender === 'user') {
                    messageElement.textContent = message;
                } else {
                    messageElement.innerHTML = message.replace(/\n/g, '<br>');
                }
                chatMessages.appendChild(messageElement);
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }

            chatInputForm.addEventListener('submit', async (e) => {
                e.preventDefault();
                const userMessage = chatInput.value.trim();
                if (!userMessage) return;

                addMessageToChat(userMessage, 'user');
                chatInput.value = '';
                
                const lowerCaseMessage = userMessage.toLowerCase();
                
                // --- BARU: Cek sentimen pengguna ---
                const positiveKeywords = ['makasih', 'keren', 'bagus', 'pintar', 'terima kasih', 'lucu', 'hebat', 'wow', 'mantap', 'suka'];
                const isHappyTrigger = positiveKeywords.some(keyword => lowerCaseMessage.includes(keyword));

                if (isHappyTrigger) {
                    triggerHappyAnimation();
                    const happyResponses = [
                        "Aww, terima kasih! Kamu baik sekali 😊",
                        "Hehe, jadi malu nih! Makasih yaa ✨",
                        "Senang bisa membantu! Ada lagi yang bisa kubantu?"
                    ];
                    const randomHappyResponse = happyResponses[Math.floor(Math.random() * happyResponses.length)];
                    addMessageToChat(randomHappyResponse, 'ai');
                    // Kita bisa hentikan di sini atau lanjut ke API. Untuk sekarang, kita beri respons dulu.
                    // Jika ingin tetap mencari info, hapus 'return' di bawah
                    return;
                }
                
                // --- AI Agent Command Handling ---
                if (lowerCaseMessage.includes('daftar lagu') || lowerCaseMessage.includes('list lagu') || lowerCaseMessage.includes('lagu apa saja')) {
                    const availableSongs = Object.keys(songLibrary);
                    let responseMessage = 'Tentu, ini daftar lagu yang tersedia:<br><ul>';
                    availableSongs.forEach(song => {
                        const displayName = song.charAt(0).toUpperCase() + song.slice(1);
                        responseMessage += `<li>${displayName}</li>`;
                    });
                    // EDIT: Memperjelas instruksi putar dan stop lagu
                    responseMessage += '</ul><br>Gunakan perintah di bawah ini:<br>▶️ <b>"Putar lagu [judul]"</b><br>⏹️ <b>"Stop musik"</b>';
                    addMessageToChat(responseMessage, 'ai');
                    return;
                }

                if (lowerCaseMessage.startsWith('putar lagu')) {
                    const songKey = lowerCaseMessage.replace('putar lagu', '').trim();
                    if (songLibrary[songKey]) {
                        musicPlayer.src = songLibrary[songKey];
                        musicPlayer.play();
                        addMessageToChat(`Oke, saya putar lagu "${songKey}". Selamat menikmati! 🎧`, 'ai');
                    } else {
                        const availableSongs = Object.keys(songLibrary).join(', ');
                        addMessageToChat(`Maaf, saya tidak punya lagu "${songKey}". Lagu yang tersedia adalah: ${availableSongs}.`, 'ai');
                    }
                    return;
                }

                if (lowerCaseMessage.includes('stop musik') || lowerCaseMessage.includes('berhenti musik') || lowerCaseMessage.includes('stop lagu')) {
                    if (!musicPlayer.paused) {
                        musicPlayer.pause();
                        musicPlayer.currentTime = 0;
                        addMessageToChat('Musik sudah saya hentikan.', 'ai');
                    } else {
                        addMessageToChat('Tidak ada musik yang sedang diputar.', 'ai');
                    }
                    return;
                }

                if (lowerCaseMessage.includes('mode gelap') || lowerCaseMessage.includes('dark mode')) {
                    setTheme('dark');
                    addMessageToChat('Baik, saya telah mengubahnya ke mode gelap.', 'ai');
                    return;
                } else if (lowerCaseMessage.includes('mode terang') || lowerCaseMessage.includes('light mode')) {
                    setTheme('light');
                    addMessageToChat('Siap! Tampilan sudah diubah ke mode terang.', 'ai');
                    return;
                }
                
                // 3. Jika bukan perintah, teruskan ke Gemini API
                chatHistory.push({ role: 'user', parts: [{ text: userMessage }] });

                const loadingElement = document.createElement('div');
                loadingElement.classList.add('chat-message', 'ai-message');
                loadingElement.innerHTML = '<span class="animate-pulse">Mengetik...</span>';
                chatMessages.appendChild(loadingElement);
                chatMessages.scrollTop = chatMessages.scrollHeight;

                try {
                    const aiResponse = await getAIResponse();
                    loadingElement.remove();
                    addMessageToChat(aiResponse, 'ai');
                } catch (error) {
                    loadingElement.remove();
                    addMessageToChat('Maaf, terjadi kesalahan. Coba lagi nanti.', 'ai');
                    console.error('Error fetching AI response:', error);
                    chatHistory.pop();
                }
            });

            async function getAIResponse() {
                const apiKey = "AIzaSyAm1ig7DEWUUwlZ3Il_BD92csuiYK-IA18"; // Dibiarkan kosong, akan ditangani oleh platform
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;

                const zeniInfo = `
                Nama Lengkap: Zeni Ibnu Hakim, S. Farm
                Profesi: UI/UX Designer & Web Developer.
                Latar Belakang: Profesional kreatif dengan latar belakang farmasi.
                Umur: 22 tahun. Asal Majalengka
                Makanan favorit : Jajanan yamg enak enak
                Minuman favorit : Jus Alpukat
                Membuat website portofolio ini kurang lebih 1 bulan dan itu bertahap
                Hobi: Content creator dan developer website.
                Kontak:
                - WhatsApp: 089529684523
                - Instagram: https://www.instagram.com/k4ng_zen/
                - TikTok: https://www.tiktok.com/@kayzen0276
                Status: belum pernah punya pacar, tapi punya seseorang wanita yang sedang saya kagumi, karena keadaan saya harus mengejar kesuksesan terlebih dahulu sebelum mengejar dia.
                Pendidikan: Sarjana Farmasi Universitas YPIB Majalengka (2025)
                Pengalaman: Magang di Klinik Mata Losari
                Keahlian: Pemberian Informasi Obat, Pengelolaan Stok Obat, Penggunaan Software, Web Development, UI/UX Design, Mobile Development, Data Analytics.
                `;

                const systemPrompt = `Anda adalah ZeniBot, asisten AI ramah dan sedikit ceria untuk portofolio Zeni Ibnu Hakim. Jawab pertanyaan tentang Zeni berdasarkan info yang ada. Jawab singkat dan santai dalam Bahasa Indonesia.
                PENTING: Jika memberikan info kontak/sosmed, SELALU format sebagai tautan HTML (contoh: <a href="URL" target="_blank">Nama Platform</a>).
                Jika pertanyaan di luar konteks (seperti meminta untuk mengubah tema, memutar lagu, atau daftar lagu, yang sudah ditangani oleh kode lain), katakan dengan sopan bahwa Anda hanya bisa menjawab pertanyaan tentang Zeni.
                ---
                Info tentang Zeni:
                ${zeniInfo}
                ---
                `;

                const payload = {
                    contents: chatHistory,
                    systemInstruction: { parts: [{ text: systemPrompt }] },
                };

                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });

                if (!response.ok) {
                    const errorBody = await response.text();
                    throw new Error(`API request failed with status ${response.status}: ${errorBody}`);
                }

                const result = await response.json();
                const candidate = result.candidates?.[0];

                if (candidate && candidate.content?.parts?.[0]?.text) {
                    const aiMessage = candidate.content.parts[0].text;
                    chatHistory.push({ role: 'model', parts: [{ text: aiMessage }] });
                    return aiMessage;
                } else {
                    if (candidate && candidate.finishReason === 'SAFETY') {
                        return "Maaf, saya tidak bisa memproses permintaan itu saat ini.";
                    }
                    throw new Error("Struktur respons dari API tidak valid.");
                }
            }
        </script>
    </div>
</body>
</html>
